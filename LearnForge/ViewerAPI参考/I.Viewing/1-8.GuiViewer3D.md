# GUI Viewer 3D

## GuiViewer3D

扩展Autodesk.Viewing.Viewer3D_

### new GuiViewer3D(container, config)

基于带有附加UI的Autodesk.Viewing.Viewer3D的 Viewer组件。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
container<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*HTMLElement*</font>|Viewer容器
config<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*object*</font>|初始设置对象。有关详细信息，请参见基础类。

<font color=red size=2>\*</font><font color=red size=2>必填</font>

## 属性

Term|Definition
:-:|:-:|
ViewerCount|需要跟踪文档中的查看者，以便我们知道何时可以安全地调用clearPropertyWorkerCache()
kDefaultCanvasConfig|传递给\#setCanvasClickBehavior的默认值指定查看器画布将如何响应用户输入以及其他与3d画布相关的选项。

## Methods(方法)

### loadExtension(extensionId, options)

使用给定的id和选项加载扩展。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
extensionId<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*string*</font>|扩展名的字符串ID。
options<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*object*</font>|选项的可选dictionary。

<font color=red size=2>\*</font><font color=red size=2>必填</font>

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
Promise|解决请求的扩展名。

### getExtension(extensionId, callback)

返回已加载的扩展名。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
extensionId<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*string*</font>|扩展名的字符串ID。
callback&nbsp;<font color=gray size=2>*function*</font>|接收扩展实例作为参数。

<font color=red size=2>\*</font><font color=red size=2>必填</font>

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
Object|延期。

### unloadExtension(extensionId)

卸载具有给定ID的扩展名。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
extensionId<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*string*</font>|扩展名的字符串ID。

<font color=red size=2>\*</font><font color=red size=2>必填</font>

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
boolean|如果扩展程序已成功卸载，则为true。

### loadExtensionLocal(extensionId, options)

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
extensionId<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*string*</font>|扩展名的字符串ID。
options<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*object*</font>|选项的可选dictionary。

<font color=red size=2>\*</font><font color=red size=2>必填</font>

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
Promise|解决请求的扩展名。

### forEachExtension(callback)

遍历已成功加载的每个扩展，并为其调用回调函数。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
callback<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*function*</font>|接收扩展实例作为参数。

<font color=red size=2>\*</font><font color=red size=2>必填</font>

<font color=gray size=4>**例子**</font>

```js
forEachExtension(function(ext){
  console.log(ext.id);
})
```

----

### start(url, options, onSuccessCallback, onErrorCallback, initOptions)

初始化查看器并加载在构造函数的config参数中指定的所有扩展。如果指定了可选参数，则start()函数将使用优化的初始化序列，从而加快模型加载速度。参数与Viewer3D.loadModel的参数相同，并且如果通过调用start()加载模型，则无需随后调用loadModel。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
url&nbsp;<font color=gray size=2>*string*</font>|启动时加载的可选URN或文件路径。
options&nbsp;<font color=gray size=2>*object*</font>|共享属性数据库的可选路径。
onSuccessCallback&nbsp;<font color=gray size=2>*Autodesk.Viewing.Viewer3D~onLoadModelFailure*</font>|完成初始加载并开始流式传输时调用的方法。
onErrorCallback&nbsp;<font color=gray size=2>*Autodesk.Viewing.Viewer3D~onLoadModelFailure*</font>|初始加载以错误结束时调用的方法。
initOptions&nbsp;<font color=gray size=2>*object*</font>|可选：将选项转发给viewer.initialize()

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
number|如果查看器已启动，则为0，否则为错误代码(与initialize()返回的错误代码相同)。

### setUp(config)

加载扩展并初始化画布交互。由Autodesk.Viewing.Viewer3D＃start方法自动调用。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
config&nbsp;<font color=gray size=2>*object*</font>|配置值
extensions&nbsp;<font color=gray size=2>*Array.\<string>*</font>|模型要加载的扩展ID列表。
canvasConfig&nbsp;<font color=gray size=2>*object*</font>|覆盖3D画布上的单击/点击事件。有关详细信息，请参见{ @链接 #setCanvasClickBehavior}。

### tearDown()

卸载扩展并加载模型。由Autodesk.Viewing.Viewer3D＃finish方法自动调用。

### _onAggregatedSelectionChanged()

选择更改后,如果SELECTION_SETS_PIVOT为true,则将枢轴点设置在中间

### run()

触发查看器的渲染循环。由Autodesk.Viewing.Viewer3D＃start方法自动调用。请参阅ViewerConfig.startOnInitialize更改开始方法的行为。

### localize()

本地化查看器。可以覆盖此方法，以便子类可以本地化任何其他元素。在初始化期间在内部调用。

### uninitialize()

删除所有创建的DOM元素，并执行所需的任何GL未初始化。

### finish()

卸载所有已加载的扩展，然后取消初始化查看器。

### loadModel(url, options, onSuccessCallback, onErrorCallback)

将模型加载到查看器中。可顺序用于将多个3D模型加载到同一场景中。

<font color=gray size=4>**参数**</font>

Term|Definition
-|:-:|
url<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*string*</font>|模型的网址。
options&nbsp;<font color=gray size=2>*object*</font>|Dictionary选项。
&nbsp;&nbsp;fileLoader&nbsp;<font color=gray size=2>*Autodesk.Viewing.FileLoader*</font>|用于此url的文件加载器。对于不受支持的文件类型是必需的。
&nbsp;&nbsp;loadOptions&nbsp;<font color=gray size=2>*object*</font>|可能包含特定于某些加载程序/文件类型的参数。
&nbsp;&nbsp;sharedPropertyDbPath&nbsp;<font color=gray size=2>*string*</font>|共享属性数据库的可选路径。
&nbsp;&nbsp;ids&nbsp;<font color=gray size=2>*string*</font>|要加载的对象ID的列表。
&nbsp;&nbsp;loadAsHidden&nbsp;<font color=gray size=2>*bool*</font>|默认情况下，会立即显示一个新模型，并在加载过程中触发查看器刷新。设置此选项可避免这种情况。然后可以通过调用showModel()显示模型。
&nbsp;&nbsp;modelNameOverride&nbsp;<font color=gray size=2>*string*</font>|允许主机应用程序覆盖UI中使用的模型名称。
onSuccessCallback&nbsp;<font color=gray size=2>*Autodesk.Viewing.Viewer3D~onLoadModelSuccess*</font>|当模型的元数据加载完成并且几何流开始时，将调用此方法。
onErrorCallback&nbsp;<font color=gray size=2>*Autodesk.Viewing.Viewer3D~onLoadModelSuccess*</font>|加载失败时调用的方法。

<font color=red size=2>\*</font><font color=red size=2>必填</font>

### isLoadDone(include)

此方法检查模型队列中的所有模型，并加载尚未加载根模型的请求。当根模型被加载，所有几何图形被加载，属性数据库(如果存在)被加载并且没有纹理被加载时，模型被完全加载。

<font color=gray size=4>**参数**</font>

Term|Definition
-|:-:|
include&nbsp;<font color=gray size=2>*object*</font>|可选对象，设置等待范围
&nbsp;&nbsp;geometry&nbsp;<font color=gray size=2>*Boolean*</font>|设置为false以不考虑几何图形的加载。因为纹理的载入是包括几何图形属性的，（所以）include.textures也必须设置为false，以不考虑几何图形属性。默认值为true。
&nbsp;&nbsp;propDb&nbsp;<font color=gray size=2>*Boolean*</font>|设置为false可以从属性数据库中排除负载。默认为true。
&nbsp;&nbsp;textures&nbsp;<font color=gray size=2>*Boolean*</font>|设置为false可排除考虑的纹理加载。默认为true。
&nbsp;&nbsp;hidden&nbsp;<font color=gray size=2>*Boolean*</font>|设置为true以包括要考虑的隐藏模型。默认为false。
&nbsp;&nbsp;onlyModels&nbsp;<font color=gray size=2>*Model, Array.\<Model>*</font>|将检查限制为该属性中的一个或多个模型。请注意，检查加载的纹理不能仅限于模型。

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
&nbsp;|如果所有模型都已完全加载，则为true，否则为false

### waitForLoadDone(include)

等待模型完全加载此方法检查模型队列中的所有模型，并加载尚未加载根模型的请求。当根模型被加载，所有几何体被加载，特性数据库（如果有的话）被加载且没有纹理被加载时，模型将被完全加载。如果在启动查看器之前调用了此方法，则它将等待直到查看器启动并且至少一个模型开始加载以检查加载是否完成。

<font color=gray size=4>**参数**</font>

Term|Definition
-|:-:|
include&nbsp;<font color=gray size=2>*object*</font>|可选对象，设置等待范围
&nbsp;&nbsp;geometry&nbsp;<font color=gray size=2>*Boolean*</font>|设置为false以不考虑几何图形的加载。因为纹理的载入是包括几何图形属性的，（所以）include.textures也必须设置为false，以不考虑几何图形属性。默认值为true。
&nbsp;&nbsp;propDb&nbsp;<font color=gray size=2>*Boolean*</font>|设置为false可以从属性数据库中排除负载。默认为true。
&nbsp;&nbsp;textures&nbsp;<font color=gray size=2>*Boolean*</font>|设置为false可排除考虑的纹理加载。默认为true。
&nbsp;&nbsp;hidden&nbsp;<font color=gray size=2>*Boolean*</font>|设置为true以包括要考虑的隐藏模型。默认为false。
&nbsp;&nbsp;onlyModels&nbsp;<font color=gray size=2>*Model, Array.\<Model>*</font>|将等待时间限制为该属性中的一个或多个模型。请注意，等待纹理加载不限于模型。

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
&nbsp;|在加载所有模型时解决的承诺。可以通过LOADER_LOAD_ERROR_EVENT事件拒绝此承诺。

### unloadModel(model)

卸载指定的模型。引用Autodesk.Viewing.Viewer3D＃hideModel隐藏模型。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
model<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*Autodesk.Viewing.Model*</font>|要卸载的模型。

<font color=red size=2>\*</font><font color=red size=2>必填</font>

### loadDocumentNode(avDocument,manifestNode,options)

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
avDocument<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*Autodesk.Viewing.Document*</font>|Document实例，拥有要加载的模型
manifestNode<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*Autodesk.Viewing.Document*</font>|要加载的特定清单节点（在文档内）
options<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*ViewerConfig*</font>|传递给{ @link Autodesk.Viewing.Viewer3D＃loadModel}的选项。如果未指定，将在内部初始化。options对象将通过自动确定的加载参数进行扩展。

<font color=red size=2>\*</font><font color=red size=2>必填</font>

### getDimensions()

返回WebGL画布([canvas](https://www.techug.com/post/html5-canvas.html))的尺寸。

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
object|客户端矩形边界对象{width：Number，height：Number}

### resize()

调整查看器的大小。由于CSS更改而包装div更改尺寸时需要。

### getHotkeyManager()

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
Autodesk.Viewing.HotkeyManager|热键管理器。

### getCamera()

获取摄像头，以便客户端可以对其进行修改。

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
THREE.Camera|活动相机。

### getState(filter)

获取视图状态为纯对象。观看者状态包含有关视口，选择和隔离的数据。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
filter&nbsp;<font color=gray size=2>*object*</font>|指定要获取的查看器值。

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
object|查看者状态。

### restoreState(viewerState, filter, immediate)

从给定的对象恢复Viewer状态。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
viewerState<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*Object*</font>|
filter&nbsp;<font color=gray size=2>*object*</font>|结构类似于用于过滤掉不应恢复的值的viewerState。
immediate&nbsp;<font color=gray size=2>*boolean*</font>|新视图是应用(true)还是不应用(false)。

<font color=red size=2>\*</font><font color=red size=2>必填</font>

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
boolean|如果还原操作成功，则为ture。

### setViewFromViewBox(viewbox, name, skipTransition)

>设置“从视图框查看”(视图框，名称，跳过过渡)

从表示视图框的数组设置视图。

不适用于3D。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
viewbox<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*Array.\<Number>*</font>|查看参数：min-x,min-y,max-x,max-y
name&nbsp;<font color=gray size=2>*string*</font>|可选的命名视图名称，还可以设置与此视图关联的图层可见性状态。
skipTransition&nbsp;<font color=gray size=2>*boolean*</font>|真正适用于即时而不是拖延。

<font color=red size=2>\*</font><font color=red size=2>必填</font>

### activateLayerState(stateName)

>激活层状态(状态名称)

更改活动层状态。Layes是通常在2D模型和某些3D模型上可用的功能。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
stateName<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*string*</font>|要激活的图层状态的名称。

<font color=red size=2>\*</font><font color=red size=2>必填</font>

### getLayerStates()

>获取图层状态

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
array|&nbsp;

### setViewFromFile(model)

>设置从文件查看(模型)

使用源文件中的默认视图设置视图。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
model&nbsp;<font color=gray size=2>*Autodesk.Viewing.Model*</font>|模型，默认为加载的模型。

### getProperties(dbid, onSuccessCallback, onErrorCallback)

>获取属性(dbid,成功回调时,错误回调时)

获取ID的属性。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
dbid<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*number*</font>|数据库标识符。
onSuccessCallback&nbsp;<font color=gray size=2>*Callbacks#onPropertiesSuccess*</font>|何时获取属性的回调。
onErrorCallback&nbsp;<font color=gray size=2>*Callbacks#onGenericError*</font>|找不到属性或发生其他错误时的回调。

<font color=red size=2>\*</font><font color=red size=2>必填</font>

### getObjectTree(onSuccessCallback, onErrorCallback)

>获取对象树(成功回调时，错误回调时)

获取查看器模型对象树。接收到树后，它将调用指定的回调函数。

您可以使用模型对象树来获取有关模型中项目的信息。该树由节点组成，这些节点与模型部件（例如装配体或零件）相对应。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
onSuccessCallback&nbsp;<font color=gray size=2>*Callbacks#onObjectTreeSuccess*</font>|对象树可用后，将调用成功回调。
onErrorCallback&nbsp;<font color=gray size=2>*Callbacks#onGenericError*</font>|当找不到对象树时，将调用错误回调。

### setCanvasClickBehavior(config)

>设置画布点击行为(配置)

设置画布上的单击行为以遵循配置。这用于更改事件的行为，例如选择或兴趣中心已更改。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
config<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*object*</font>|符合上述布局的参数对象。

<font color=red size=2>\*</font><font color=red size=2>必填</font>

<font color=gray size=4>**例子**</font>

```config.js
{
  "click": {
      "onObject": [ACTIONS],
      "offObject": [ACTIONS]
  },
  "clickCtrl": {
      "onObject": [ACTIONS],
      "offObject": [ACTIONS]
  },
  "clickShift": {
      ...
  },
  "clickCtrlShift": {
      ...
  },
  "disableSpinner": BOOLEAN
  "disableMouseWheel": BOOLEAN,
  "disableTwoFingerSwipe": BOOLEAN
}
```

动作可以是以下任意一种：-“ selectOnly”-“ selectToggle”-“ deselectAll”-“ isolate”-“ showAll”-“ setCOI”-“ focus”-“ hide”

----

### search(text, onSuccessCallback, onErrorCallback, attributeNames)

>搜索(文本，关于成功回调，关于错误回调，属性名称)

在元素中搜索给定的文本。搜索完成后，将调用回调onResultsReturned(idArray).

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
text<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*string*</font>|搜索词(不区分大小写).
onSuccessCallback<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*Callbacks#onSearchSuccess*</font>|搜索结果准备好时调用。
onErrorCallback<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*Callbacks#onGenericError*</font>|搜索期间发生错误时调用。
attributeNames&nbsp;<font color=gray size=2>*Array.\<string>*</font>|将搜索限制为特定的属性名称。

<font color=red size=2>\*</font><font color=red size=2>必填</font>

### getHiddenNodes(model)

>获取隐藏节点(模型)

返回当前隐藏节点的ID的数组。进行隔离后，不会返回任何隐藏节点，因为所有未隔离的节点都被视为隐藏节点。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
model&nbsp;<font color=gray size=2>*Autodesk.Viewing.Model*</font>|模型对象，如果在模型的隐藏节点中传递，则返回.

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
Array.\<number>|没有隔离时，当前隐藏的节点数组。

### getIsolatedNodes(model)

>获取隔离节点(模型)

返回当前隔离节点的ID的数组。

尚未针对2D实施。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
model&nbsp;<font color=gray size=2>*Autodesk.Viewing.Model*</font>|模型对象(如果在模型的隔离节点中传递)

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
Array.\<number>|当前隔离的节点数组。

### isolate(node, model)

>隔离(节点,模型)

隔离许多子元素之一。您可以传入一个节点或一组节点以进行隔离。传递null以重置隔离。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
node<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*Array.\<number>, number*</font>|来自模型树{ @ link BaseViewer＃getObjectTree}的节点ID或节点ID数组。
model<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*Autodesk.Viewing.Model*</font>|包含节点ID的模型。默认为第一个加载的模型。

<font color=red size=2>\*</font><font color=red size=2>必填</font>

### setBackgroundColor(red, green, blue, red2, green2, blue2)

>设置背景颜色（红色，绿色，蓝色，红色2，绿色2，蓝色2）

设置背景颜色，该颜色将用于创建渐变。值的范围是[0,255]

<font color=gray size=4>**参数**</font>

----

red<font color=red size=2>\*</font><font color=gray size=2>*number*</font>

----
green<font color=red size=2>\*</font><font color=gray size=2>*number*</font>

----

blue<font color=red size=2>\*</font><font color=gray size=2>*number*</font>

----

red2<font color=red size=2>\*</font><font color=gray size=2>*number*</font>

----

green2<font color=red size=2>\*</font><font color=gray size=2>*number*</font>

----

blue2<font color=red size=2>\*</font><font color=gray size=2>*number*</font>

----

<font color=red size=2>\*</font><font color=red size=2>必填</font>

### setBackgroundOpacity(opacity)

>设置背景不透明度(不透明度)

设置背景不透明度。值在[0.0,1.0]范围内

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
opacity<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*number*</font>|&nbsp;

<font color=red size=2>\*</font><font color=red size=2>必填</font>

### toggleSelect(dbid, model, selectionType)

>切换选择(dbid,模型,选择类型)

为给定的dbid切换选择。如果未选中，则将其选中。如果已选择，则未选择。

当前支持三种节点选择方式：

Autodesk.Viewing.SelectionType.MIXED使用覆盖的选择类型选择叶节点，并使用常规选择类型选择内部节点。

Autodesk.Viewing.SelectionType.REGULAR节点以选择颜色着色。

Autodesk.Viewing.SelectionType.OVERLAYED节点以选择颜色着色，并显示在未选择的几何图形的顶部。

尚未针对2D实施。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
dbid<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*number*</font>|&nbsp;
model&nbsp;<font color=gray size=2>*Autodesk.Viewing.Model*</font>|包含dbId的模型。使用默认情况下加载的初始模型。
selectionType<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*number*</font>|Autodesk.Viewing.SelectionMode的成员。

<font color=red size=2>\*</font><font color=red size=2>必填</font>

### select(dbids, model, selectionType)

>选择(出价,模型,选择类型)

选择ID数组。您也可以传递单个ID而不是数组。

当前支持三种节点选择方式：

Autodesk.Viewing.SelectionType.MIXED使用覆盖的选择类型选择叶节点，并使用常规选择类型选择内部节点。

Autodesk.Viewing.SelectionType.REGULAR节点以选择颜色着色。

Autodesk.Viewing.SelectionType.OVERLAYED节点以选择颜色着色，并显示在未选择的几何图形的顶部。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
dbids<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*Array.\<number>, number*</font>|要选择的元素或元素数组。
model&nbsp;<font color=gray size=2>*Autodesk.Viewing.Model*</font>|包含ID的模型实例。
selectionType&nbsp;<font color=gray size=2>*number*</font>|Autodesk.Viewing.SelectionMode的成员。

<font color=red size=2>\*</font><font color=red size=2>必填</font>

### clearSelection()

清空选项

### getSelectionVisibility()

>获得选择可见性

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
object|**{hasVisible:boolean, hasHidden:boolean}**

### getSelectionCount()

>获取选择计数

返回当前选择中的节点数。

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
number|&nbsp;

### setSelectionMode(mode)

>设置选择模式

设置选择粒度模式。支持的值为：

Autodesk.Viewing.SelectionMode.LEAF_OBJECT始终选择层次结构中的叶对象。

Autodesk.Viewing.SelectionMode.FIRST_OBJECT对于给定的节点，选择从根到给定节点的路径上的第一个非复合对象（图层，集合，模型）以及所有子节点。

Autodesk.Viewing.SelectionMode.LAST_OBJECT对于给定的节点，选择最近的祖先组合节点和所有子代。如果到根节点的路径中没有复合节点，则选择输入节点本身。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
mode<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*number*</font>|选择模式。

<font color=red size=2>\*</font><font color=red size=2>必填</font>

### getSelection()

返回当前选择。

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
Array.\<number>|当前所选节点的ID的数组。

### lockSelection(dbIds, lock, model)

>锁定模型(dbId,锁定,模型)

锁定对给定模型中特定节点(dbIds)的选择。如果将锁定设置为true并且已经选择了节点，则将不选择节点。锁定的节点将无法选择。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
dbIds<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*Number, Array.\<Number>*</font>|dbIds锁定
lock<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*Boolean*</font>|锁定为true，否则为false
model&nbsp;<font color=gray size=2>*Autodesk.Viewing.Model*</font>|包含dbId的模型。默认情况下，使用加载到场景中的初始模型。

<font color=red size=2>\*</font><font color=red size=2>必填</font>

### unlockSelection(dbIds, model)

>解除锁定选择

此功能将为特定模型解锁指定的节点(dbIds)。如果省略nodes参数，则将解锁指定模型的锁定节点。如果省略了model参数，则指定的节点将为viewer.model解锁。如果省略两个参数，则查看器中的所有模型都将释放其锁定的节点。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
dbIds&nbsp;<font color=gray size=2>*Array.\<Number>*</font>|dbId解锁
model&nbsp;<font color=gray size=2>*Autodesk.Viewing.Model*</font>|与节点参数关联的模型

### isSelectionLocked(dbId, model)

>选择处于锁定状态(dbId,模型)

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
dbId<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*Number*</font>|对象的标识符。
model&nbsp;<font color=gray size=2>*Autodesk.Viewing.Model*</font>|包含dbId的模型。默认情况下，使用加载到场景中的初始模型。

<font color=red size=2>\*</font><font color=red size=2>必填</font>

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
boolean|true是可见性已锁定

### getAggregateSelection(callback)

>获取汇总选择(回调)

返回所有已加载模型中的选定项目。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
callback&nbsp;<font color=gray size=2>*function*</font>|可选回调，用于为每个选定对象接收枚举的模型和dbId对。如果没有给出回调，则返回一个对象数组。

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
Array.\<object>|具有场景和每个已选择项目的每个模型的selectionSet属性的对象数组。

### getAggregateIsolation()

>获得聚合隔离

返回所有已加载模型中的隔离项。

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
Array.\<object>|具有模型的对象数组，以及该模型中的隔离ID。

### getAggregateHiddenNodes()

>获取聚合隐藏节点

返回所有已加载模型的隐藏节点。

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
Array.\<object>|具有模型和该模型中隐藏ID的对象数组。

### hide(node, model)

确保传入的dbid/id隐藏。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
node<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*Array.<number>, number*</font>|一组Dbid或一个id。
model&nbsp;<font color=gray size=2>*Autodesk.Viewing.Model*</font>|包含dbId的模型。默认情况下，使用加载到场景中的初始模型。

<font color=red size=2>\*</font><font color=red size=2>必填</font>

### show(node, model)

确保显示传入的dbid / id。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
node<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*Array.<number>, number*</font>|
model&nbsp;<font color=gray size=2>*Autodesk.Viewing.Model*</font>|包含dbId的模型。默认情况下，使用加载到场景中的初始模型。

<font color=red size=2>\*</font><font color=red size=2>必填</font>

### showAll()

确保所有内容均可见。清除所有节点隔离(3D)并打开所有层(2D).

### toggleVisibility(dbId, model)

切换给定节点的可见性。

尚未针对2D实施。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
dbId<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*number*</font>|对象的标识符。
model&nbsp;<font color=gray size=2>*Autodesk.Viewing.Model*</font>|包含dbId的模型。默认情况下，使用加载到场景中的初始模型。

<font color=red size=2>\*</font><font color=red size=2>必填</font>

### areAllVisible()

如果每个节点均可见，则返回true。

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
boolean|&nbsp;

### isNodeVisible(nodeId, model)

如果指定的节点可见，则返回true。仅当在多模型方案中时，才需要使用模型参数。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
nodeId<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*number*</font>|几何节点以检查是否可见。
model&nbsp;<font color=gray size=2>*Autodesk.Viewing.Model*</font>|包含指定的nodeId的模型。

<font color=red size=2>\*</font><font color=red size=2>必填</font>

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
boolean|&nbsp;

### toggleLockVisible(dbId, model)

切换给定节点的可见性。

尚未针对2D实施。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
dbId<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*number*</font>|对象的标识符。
model&nbsp;<font color=gray size=2>*Autodesk.Viewing.Model*</font>|包含dbId的模型。默认情况下，使用加载到场景中的初始模型。

<font color=red size=2>\*</font><font color=red size=2>必填</font>

### isVisibleLocked(dbId, model)

检查节点的可见性是否已锁定

尚未针对2D实施。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
dbId<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*number*</font>|对象的标识符。
model&nbsp;<font color=gray size=2>*Autodesk.Viewing.Model*</font>|包含dbId的模型。默认情况下，使用加载到场景中的初始模型。

<font color=red size=2>\*</font><font color=red size=2>必填</font>

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
boolean|正确是可见性已锁定

### explode(scale)

从重心分解模型。

不适用于2D。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
scale<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*number*</font>|介于0.0到1.0之间的值表示分解的数量。

<font color=red size=2>\*</font><font color=red size=2>必填</font>

### getExplodeScale()

返回分解比例。

不适用于2D。

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
number|介于0.0-1.0之间的值，指示模型的分解程度。

### lockExplode(dbids, lock, model)

锁定dbid，使其不会分解

不适用于2D。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
dbids<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*Array.\<number>, number*</font>|Dbid锁定或解锁
lock<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*boolean*</font>|设置为true以防止dbid分解。设置为false允许dbid分解。
model&nbsp;<font color=gray size=2>*Model*</font>|包含双标的模型。默认为this.model

<font color=red size=2>\*</font><font color=red size=2>必填</font>

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
boolean|如果更改了任何竞标，则为true。

### isExplodeLocked(dbid, model)

检查dbid是否已锁定，以免分解。

不适用于2D。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
dbid<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*Array.\<number>, number*</font>|Dbid检查
model&nbsp;<font color=gray size=2>*Model*</font>|包含双标的模型。默认为this.model

<font color=red size=2>\*</font><font color=red size=2>必填</font>

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
boolean|如果dbid已锁定以防止分解，则为true

### toggleLockExplode(dbid, model)

切换dbid锁，使其不会分解

不适用于2D。

<font color=gray size=4>**参数**</font>

Term|Definition
:-:|:-:|
dbid<font color=red size=2>\*</font>&nbsp;<font color=gray size=2>*Array.\<number>, number*</font>|锁定或解锁的方式
model&nbsp;<font color=gray size=2>*Model*</font>|包含双标的模型。默认为this.model

<font color=red size=2>\*</font><font color=red size=2>必填</font>

<font color=gray size=4>**Returns**</font>

type(类型)|description(描述)
:-:|:-:|
boolean|如果更改了任何竞标，则为true。

### setQualityLevel(useSAO, useFXAA)

### setGhosting(value)

### setGroundShadow(value)

### setGroundReflection(value)

### setEnvMapBackground(value)

### setProgressiveRendering(value)

### setGrayscale(value)

### setSwapBlackAndWhite(value)

### setOptimizeNavigation(value)

### setNavigationLock(value)

### getNavigationLock()

### setNavigationLockSettings(settings)

### getNavigationLockSettings()

### setActiveNavigationTool(toolName)

### getActiveNavigationTool()

### setDefaultNavigationTool(toolName)

### getDefaultNavigationToolName()

### getFOV()

### setFOV(degrees)

### getFocalLength()

### setFocalLength(mm)

### hideLines(hide)

### hidePoints(hide)

### setDisplayEdges(show)

### applyCamera(camera, fit)

### fitToView(objectIds, model, immediate)

### setClickConfig(what, where, newAction)

### getClickConfig(what, where)

### setClickToSetCOI(state, updatePrefs)

### setProfile(profile)

### setLightPreset(index)

### setUsePivotAlways(value)

### setReverseZoomDirection(value)

### setReverseHorizontalLookDirection(value)

### setReverseVerticalLookDirection(value)

### setZoomTowardsPivot(value)

### setOrbitPastWorldPoles(value)

### setUseLeftHandedInput(value)

### setLayerVisible(nodes, visible, isolate)

### isLayerVisible(node)

### anyLayerHidden()

### allLayersHidden()

### setGroundShadowColor(color)

### setGroundShadowAlpha(alpha)

### setGroundReflectionColor(color)

### setGroundReflectionAlpha(alpha)

### getCutPlanes()

### setCutPlanes(planes)

### getScreenShot(w, h, cb, overlayRenderer)

### worldToClient(point, camera)

### clientToWorld(clientX, clientY, ignoreTransparent, ignore2dModelBounds)

### modelHasTopology()

### setSelectionColor(color, selectionType)

### set2dSelectionColor(color, opacity)

### setTheme(name)

### setThemingColor(dbId, color, model, recursive)

### clearThemingColors(model)

### hideModel(model)

### showModel(model, preserveTools)

### getVisibleModels()

### getHiddenModels()

### disableHighlight(disable)

### disableSelection(disable)

### isHighlightDisabled()

### isHighlightPaused()

### isHighlightActive()

### isSelectionDisabled()

### activateExtension(extensionID, mode)

### deactivateExtension(extensionID)

### isExtensionActive(extensionID, mode)

### isExtensionLoaded(extensionID)

### getLoadedExtensions()

### getExtensionModes(extensionID)

### hitTest(x, y, ignoreTransparent)

### refresh(clear)

### chooseProfile()
