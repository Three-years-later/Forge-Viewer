# 初始化Viewer

初始化是一个两步过程：

1. 使用function初始化页面Autodesk.Viewing.Initializer()。
2. 创建一个Viewer实例并验证WebGL支持是否可用。

## Example

```js
var viewer;
var options = {
  env: 'AutodeskProduction',
  api: 'derivativeV2',  // for models uploaded to EMEA change this option to 'derivativeV2_EU'
  getAccessToken: function(onTokenReady) {
      var token = 'YOUR_ACCESS_TOKEN';
      var timeInSeconds = 3600; // Use value provided by Forge Authentication (OAuth) API
      onTokenReady(token, timeInSeconds);
  }
};

Autodesk.Viewing.Initializer(options, function() {

  var htmlDiv = document.getElementById('forgeViewer');
  viewer = new Autodesk.Viewing.GuiViewer3D(htmlDiv);
  var startedCode = viewer.start();
  if (startedCode > 0) {
      console.error('Failed to create a Viewer: WebGL not supported.');
      return;
  }

  console.log('Initialization complete, loading a model next...');

});
```

## 初始化器

初始化函数只需运行一次。在继续操作之前，请确保所有子系统都在运行。有关所支持的值的详细信息，请参阅[初始化方法](https://forge.autodesk.com/en/docs/viewer/v7/reference/Viewing/#initializer-options-callback)下列出的参数options。

## 创建Viewer实例

调用Initializer回调后，我们将继续创建Viewer的新实例。

```js
var htmlDiv = document.getElementById('forgeViewer');
viewer = new Autodesk.Viewing.GuiViewer3D(htmlDiv, {});
```

您viewer.start()只需调用一次该方法。从那里开始，在继续加载模型之前，验证浏览器是否支持WebGL 。

## 销毁Viewer实例

当页面上不再需要查看器时，请使用以下方法取消初始化并要求回存：

```js
viewer.finish();
viewer = null;
Autodesk.Viewing.shutdown();
```
